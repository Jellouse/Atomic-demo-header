<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Kinetic Edge - S1 Series</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="theme-color" content="#101320" />

    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
      body {
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        background-color: #101320;
      }

      .glass-header {
        background: rgba(255, 255, 255, 0.4);
        backdrop-filter: blur(25px);
        -webkit-backdrop-filter: blur(25px);
        clip-path: polygon(0 0, 100% 0, 100% 70%, 70% 100%, 30% 100%, 0 70%);
        border-bottom: 1px solid rgba(255, 255, 255, 0.18);
      }

      .safe-top {
        padding-top: env(safe-area-inset-top);
      }

      .header-height {
        height: 120px;
      }

      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body class="text-slate-50 antialiased">
    <!-- Fixed glass header -->
    <header
      id="site-header"
      class="glass-header fixed top-0 left-0 right-0 z-40 header-height safe-top"
    >
      <div
        class="h-full max-w-4xl mx-auto flex items-center justify-between px-5"
      >
        <div class="flex items-center gap-2">
          <div
            class="h-8 w-8 rounded-xl border border-white/60 bg-gradient-to-br from-sky-300/80 via-slate-50 to-sky-500/80 flex items-center justify-center shadow-md shadow-sky-500/30"
          >
            <span class="text-[10px] font-semibold tracking-[0.2em]">KE</span>
          </div>
          <span class="text-[11px] tracking-[0.28em] uppercase text-slate-900/80">
            Kinetic Edge
          </span>
        </div>
        <nav class="hidden sm:flex items-center gap-6 text-[11px]">
          <a
            href="#story"
            class="tracking-[0.2em] uppercase text-slate-900/70 hover:text-slate-900"
            >Story</a
          >
          <a
            href="#collection"
            class="tracking-[0.2em] uppercase text-slate-900/70 hover:text-slate-900"
            >Series</a
          >
          <a
            href="#footer"
            class="tracking-[0.2em] uppercase text-slate-900/70 hover:text-slate-900"
            >Labs</a
          >
        </nav>
        <button
          class="rounded-full border border-slate-900/10 bg-slate-900/85 text-slate-50 text-[10px] tracking-[0.22em] uppercase px-4 py-2 shadow-md shadow-slate-900/40"
        >
          Reserve
        </button>
      </div>
    </header>

    <main class="relative">
      <!-- HERO - DARK IMAGE -->
      <section
        id="hero"
        data-tint-color="#050814"
        class="relative min-h-[80vh] pt-[120px] flex items-center"
      >
        <div
          class="absolute inset-0"
          style="
            background-image:
              linear-gradient(to bottom, rgba(0, 3, 15, 0.9), rgba(0, 0, 0, 0.3)),
              url('https://images.pexels.com/photos/2259810/pexels-photo-2259810.jpeg?auto=compress&cs=tinysrgb&w=1600');
            background-size: cover;
            background-position: center;
          "
        ></div>

        <div
          class="relative z-10 max-w-4xl mx-auto px-5 py-12 flex flex-col gap-8"
        >
          <div class="max-w-xl">
            <p class="text-[11px] tracking-[0.28em] uppercase text-sky-200/80">
              S1 Series / All Mountain
            </p>
            <h1
              class="mt-3 text-3xl md:text-4xl font-semibold tracking-tight leading-tight"
            >
              Edge hold for hardpack, control when the surface turns to glass
            </h1>
            <p class="mt-4 text-sm text-slate-100/85">
              Lightweight carbon layup, race room edges, and a waist that stays
              calm when your speed does not.
            </p>
            <div class="mt-6 flex flex-wrap gap-3">
              <button
                class="rounded-full bg-sky-400/90 text-slate-950 px-5 py-2.5 text-[10px] font-semibold tracking-[0.22em] uppercase shadow-md shadow-sky-500/40"
              >
                Build setup
              </button>
              <button
                class="rounded-full border border-slate-100/40 px-5 py-2.5 text-[10px] tracking-[0.22em] uppercase text-slate-50/85 hover:bg-slate-50/5"
              >
                Watch run
              </button>
            </div>
          </div>
        </div>

        <div
          class="pointer-events-none absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-b from-transparent to-white"
        ></div>
      </section>

      <!-- MID ZONE - LIGHT GRID -->
      <section
        id="story"
        data-tint-color="#ffffff"
        class="bg-white text-slate-900"
      >
        <div class="max-w-4xl mx-auto px-5 py-12 md:py-14">
          <div class="grid md:grid-cols-2 gap-8 md:gap-10 items-start">
            <div>
              <p
                class="text-[11px] tracking-[0.28em] uppercase text-slate-500 mb-3"
              >
                Built for ice mornings
              </p>
              <h2 class="text-xl md:text-2xl font-semibold tracking-tight">
                One ski you can trust when the resort is scraped down to cord
              </h2>
              <p class="mt-3 text-sm text-slate-700">
                Flex and sidecut tuned for skiers who are first chair on
                injected snow and still out when it softens.
              </p>
            </div>
            <div class="space-y-3 text-sm text-slate-700" id="collection">
              <div class="border border-slate-200 rounded-2xl p-4">
                <p
                  class="text-[10px] tracking-[0.26em] uppercase text-slate-500 mb-1"
                >
                  S1 Edge 92
                </p>
                <p>92 mm waist, 3 radius map, full sidewall construction.</p>
              </div>
              <div class="border border-slate-200 rounded-2xl p-4">
                <p
                  class="text-[10px] tracking-[0.26em] uppercase text-slate-500 mb-1"
                >
                  S1 Ice Lab 82
                </p>
                <p>
                  Ice specific layup that keeps the edge quiet on boilerplate.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- FOOTER - BLACK -->
      <footer
        id="footer"
        data-tint-color="#000000"
        class="bg-black text-slate-100"
      >
        <div class="max-w-4xl mx-auto px-5 py-12">
          <div class="grid md:grid-cols-[1.2fr,1fr] gap-8 md:gap-10">
            <div>
              <p
                class="text-[11px] tracking-[0.28em] uppercase text-slate-400 mb-2"
              >
                Snow labs
              </p>
              <h3 class="text-lg md:text-xl font-semibold tracking-tight">
                Share your stats and we return a flex profile
              </h3>
              <p class="mt-3 text-sm text-slate-300">
                Tell us how and where you ski, and our technicians answer with
                mount, length, and tune suggestions.
              </p>
            </div>
            <form class="space-y-3 text-xs">
              <input
                type="text"
                placeholder="Height / weight"
                class="w-full rounded-full bg-black/60 border border-slate-700 px-3 py-2 text-slate-100 placeholder:text-slate-500 focus:outline-none focus:border-sky-400"
              />
              <input
                type="text"
                placeholder="Home mountain"
                class="w-full rounded-full bg-black/60 border border-slate-700 px-3 py-2 text-slate-100 placeholder:text-slate-500 focus:outline-none focus:border-sky-400"
              />
              <input
                type="email"
                placeholder="Email for setup file"
                class="w-full rounded-full bg-black/60 border border-slate-700 px-3 py-2 text-slate-100 placeholder:text-slate-500 focus:outline-none focus:border-sky-400"
              />
              <button
                type="button"
                class="w-full rounded-full bg-slate-50 text-slate-900 py-2.5 text-[10px] font-semibold tracking-[0.22em] uppercase hover:bg-slate-200"
              >
                Request setup
              </button>
            </form>
          </div>
          <div
            class="mt-8 pt-5 border-t border-slate-900 flex flex-col md:flex-row gap-3 md:items-center md:justify-between text-[11px] text-slate-500"
          >
            <span class="tracking-[0.24em] uppercase">Kinetic Edge</span>
            <span>Innsbruck / Chamonix / Ã…re</span>
          </div>
        </div>
      </footer>
    </main>

    <!-- Dynamic theme color / overscroll tint -->
    <script>
      (function () {
        const WHITE_BLEND_ALPHA = 0.4;
        const header = document.getElementById("site-header");
        const themeMeta = document.querySelector('meta[name="theme-color"]');
        const tintZones = Array.from(
          document.querySelectorAll("[data-tint-color]")
        );

        function hexToRgb(hex) {
          if (!hex) return null;
          let cleaned = hex.replace("#", "").trim();
          if (cleaned.length === 3) {
            cleaned =
              cleaned[0] +
              cleaned[0] +
              cleaned[1] +
              cleaned[1] +
              cleaned[2] +
              cleaned[2];
          }
          if (cleaned.length !== 6) return null;
          const r = parseInt(cleaned.slice(0, 2), 16);
          const g = parseInt(cleaned.slice(2, 4), 16);
          const b = parseInt(cleaned.slice(4, 6), 16);
          if ([r, g, b].some((v) => Number.isNaN(v))) return null;
          return { r, g, b };
        }

        function rgbToHex(r, g, b) {
          const toHex = (v) => {
            const clamped = Math.max(0, Math.min(255, Math.round(v)));
            return clamped.toString(16).padStart(2, "0");
          };
          return "#" + toHex(r) + toHex(g) + toHex(b);
        }

        function blendWithWhite(rgb, alphaWhite) {
          const baseFactor = 1 - alphaWhite;
          const r = rgb.r * baseFactor + 255 * alphaWhite;
          const g = rgb.g * baseFactor + 255 * alphaWhite;
          const b = rgb.b * baseFactor + 255 * alphaWhite;
          return { r, g, b };
        }

        function weightedAverage(colors) {
          if (!colors.length) return { r: 255, g: 255, b: 255 };
          let totalWeight = 0;
          let r = 0,
            g = 0,
            b = 0;
          colors.forEach((entry) => {
            const w = entry.weight;
            totalWeight += w;
            r += entry.rgb.r * w;
            g += entry.rgb.g * w;
            b += entry.rgb.b * w;
          });
          if (totalWeight === 0) return { r: 255, g: 255, b: 255 };
          return {
            r: r / totalWeight,
            g: g / totalWeight,
            b: b / totalWeight,
          };
        }

        function updateTint() {
          if (!header || tintZones.length === 0) return;

          const headerHeight = header.offsetHeight || 120;
          const headerTop = 0;
          const headerBottom = headerHeight;

          const overlaps = [];

          tintZones.forEach((zone) => {
            const rect = zone.getBoundingClientRect();
            const overlap =
              Math.min(rect.bottom, headerBottom) -
              Math.max(rect.top, headerTop);
            if (overlap > 0) {
              const baseRgb = hexToRgb(zone.dataset.tintColor);
              if (!baseRgb) return;
              overlaps.push({ rgb: baseRgb, weight: overlap });
            }
          });

          const avg = weightedAverage(overlaps);
          const blended = blendWithWhite(avg, WHITE_BLEND_ALPHA);
          const finalHex = rgbToHex(blended.r, blended.g, blended.b);

          if (themeMeta) {
            themeMeta.setAttribute("content", finalHex);
          }
          document.body.style.backgroundColor = finalHex;
          document.documentElement.style.backgroundColor = finalHex;
        }

        let ticking = false;
        function handleScrollOrResize() {
          if (!ticking) {
            window.requestAnimationFrame(function () {
              updateTint();
              ticking = false;
            });
            ticking = true;
          }
        }

        window.addEventListener("scroll", handleScrollOrResize, {
          passive: true,
        });
        window.addEventListener("resize", handleScrollOrResize);

        document.addEventListener("DOMContentLoaded", updateTint);
        window.addEventListener("load", updateTint);
      })();
    </script>
  </body>
</html>
